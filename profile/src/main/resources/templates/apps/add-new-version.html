<div
  th:replace="apps/fragments/add-app.html::add-app('Add New App Version', ~{::div.add-new-version}, ~{::div.alert-container}, ${editAppVersionDto.appType})"
>
  <div class="alert-container">
    <div th:replace="common/components.html :: application-alert(text = '', showByDefault = 'false')"></div>
  </div>

  <div class="add-new-version">
    <link rel="stylesheet" th:href="@{/apps/css/add-new-version.css}" />
    <form name="addNewVersion" id="addNewVersion">
    <div
      class="profile-photo-placeholder d-flex justify-content-center align-items-center"
      style="background-color: #f5f5f5;"
    >
      <img id="displayProductIcon" alt="" th:src="${editAppVersionDto.imageUrl}" class="profile-photo__upload-image" />
    </div>

    <div class="add-new-version__timestamp">Created on <span th:text="${#temporals.format(editAppVersionDto.createdOn,'dd.MM.yyyy')}"></span> <br /></div>
    <div class="add-new-version__name-price-row d-flex justify-content-between">
      <div th:replace="common/components.html :: application-constrained-text-input('name', 35, ${editAppVersionDto.name}, 'Name', true)"></div>
      <div class="add-new-version__price-container">
        <div
          th:replace="common/components.html :: application-full-width-text-input(fieldName='price', limit=0, value='', label='Price', disabled=false, prefixClass='application-text-input__prefix--price')"
        ></div>
      </div>
    </div>
    <div
      th:replace="common/components.html :: application-full-width-text-input('shortDescription', 80, '', 'Short description', false)"
    ></div>
    <div
      th:replace="common/components.html :: application-full-width-text-area('longDescription', 4000, '', 'Long description', false)"
    ></div>

    <div
      th:replace="common/components.html :: application-well(title='Gallery', limit='max. 5', content=~{::div.add-new-version__gallery})"
    >
      <div class="add-new-version__gallery"></div>
    </div>

    <div
      th:replace="common/components.html :: application-full-width-text-area('whatsNewInVersion', 4000, '', 'What\'s new in this version', false)"
    ></div>

    <div class="add-new-version__version-upload-row d-flex">
      <div class="add-new-version__version-col">
        Version
        <div th:replace="common/components.html :: application-full-width-text-input('version', 16, '', '', false)"></div>
      </div>
      <div class="add-new-version__upload-col d-flex flex-column">
        X86_64 binary supported
        <div class="app-binary d-flex flex-column">
            <input type="file" name="binary" id="binary" class="d-none"/>
            <label class="app-binary__file-name"></label>
            <label th:text="'Upload App'" id="app-binary__label" class="application-button d-flex align-items-center justify-content-center" for="binary"></label>
        </div>
      </div>
    </div>

    <button class="application-button" disabled id="create-button">Add version</button>
    <input type="hidden" id="id" name="id" th:value="${editAppVersionDto.id}" />
    <input type="hidden" id="name" name="name" th:value="${editAppVersionDto.name}" />
    <input type="hidden" name="developerId" id="developerId" th:value="${user.email}"/>
    </form>
    <script th:src="@{/apps/js/add-new-version.js}"></script>
    <script th:src="@{/common/js/application-profile-photo.js}"></script>
    <script th:src="@{/common/js/upload-gallery-images.js}"></script>
  </div>
</div>
